# Тестовое задание на позицию: Python Backend-разработчик + SQL.

### Для выполнения тестового задания необходимо написать микросервис на Flask, используя локальную базу данных SQLite и модуль xml.sax, который включает в себя следующий функционал: 
1. По адресу /api/file/read будет находиться метод чтения XML файлов (добавить валидацию), который будет сохранять имя файла в таблице, а также сохранять содержимое файла в базу данных по схеме ниже. Метод должен возвращать True или False в зависимости от результата выполнения. Порядок записи тегов не имеет значения, важно, чтобы были выстроены корректные связи между файлами, их тегами и их атрибутами. Files ( id INTEGER PRIMARY KEY, name TEXT ); Tags ( id INTEGER PRIMARY KEY, name TEXT, file_id INTEGER, FOREIGN KEY (file_id) REFERENCES Files(id)); Attributes ( id INTEGER PRIMARY KEY, name TEXT, value TEXT, tag_id INTEGER, FOREIGN KEY (tag_id) REFERENCES Tags(id)); 
2. По адресу /api/tags/get-count будет находиться функция, принимающая в себя путь до файла и название тега. Данная функция должна возвращать количество данных тегов в файле. Если тегов нет, необходимо вернуть ошибку с текстом “В файле отсутствует тег с данным названием”.
3. По адресу /api/tags/attributes/get будет находиться функция, принимающая в себя имя файла и название тега. Данная функция должна возвращать список из всех возможных атрибутов, которые присутствуют в заданном теге. Важно, если у нескольких тегов есть данный атрибут, его не нужно добавлять в список повторно. Значения атрибутов возвращать не нужно.

### Этот код реализует все требуемые функции:

1. /api/file/read:
Принимает XML файл через POST запрос
Проверяет расширение файла
Сохраняет имя файла в таблицу Files
Парсит XML с помощью xml.sax
Сохраняет теги и их атрибуты в соответствующие таблицы
Возвращает True при успехе или False с ошибкой при неудаче
2. /api/tags/get-count:
Принимает filename и tag_name через GET параметры
Проверяет существование файла
Возвращает количество указанных тегов в файле
Возвращает ошибку, если тегов нет
3. /api/tags/attributes/get:
Принимает filename и tag_name через GET параметры
Проверяет существование файла
Возвращает список уникальных имен атрибутов для указанного тега
Возвращает пустой список, если атрибутов нет

### Для использования:

1. Сохраните код в файл (например, app.py)
2. Установите Flask: pip install flask
3. Запустите приложение: python app.py

### Примеры запросов:

- POST /api/file/read с файлом в form-data
- GET /api/tags/get-count?filename=test.xml&tag_name=tag1
- GET /api/tags/attributes/get?filename=test.xml&tag_name=tag1

База данных SQLite будет создана автоматически в файле xml_data.db. Все связи между таблицами поддерживаются через внешние ключи.